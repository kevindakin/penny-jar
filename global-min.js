const durationFast=.4,durationBase=.7,durationSlow=1.2,easeBase="power4.inOut";function lenisScroll(){lenis=new Lenis({lerp:.12}),lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add((e=>{lenis.raf(1e3*e)})),gsap.ticker.lagSmoothing(0)}function disableScrolling(){document.body.classList.add("no-scroll")}function enableScrolling(){document.body.classList.remove("no-scroll")}function isMenuOpen(){const e=document.querySelector(".nav_menu");return e&&"false"===e.getAttribute("aria-hidden")}function copyright(){const e=document.querySelector('[data-element="copyright-date"]');if(e){const t=(new Date).getFullYear();e.textContent=t}}function splitText({target:e,type:t="lines, words",mask:o="lines",linesClass:n="line"}){const r=e.querySelector("h1, h2, h3, h4, h5, h6, p")||e,s=new SplitText(r,{type:t,mask:o,linesClass:n}),a={lines:s.lines,words:s.words,chars:s.chars};return gsap.set(e,{visibility:"visible"}),{split:s,...a}}function loader(){const e=document.querySelector(".transition_wrap"),t=e?e.querySelectorAll(".transition_block"):null,o=document.querySelector('[data-menu="nav"]'),n=document.querySelector('[data-load="heading"]'),r=document.querySelector('[data-load="description"]'),s=Array.from(document.querySelectorAll('[data-load="fade"]')),a=t&&t.length>0,l=a?.6:.1,i=a?.5:0,c=a?.9:.4,u=a?1.1:.6;gsap.set(r,{opacity:0});const d=n?splitText({target:n}):null,g=r?splitText({target:r,type:"lines"}):null;d?.words?.length&&gsap.set(d.words,{yPercent:110}),g?.lines?.length&&gsap.set(g.lines,{yPercent:100});const p=gsap.timeline({defaults:{duration:1.2,ease:easeBase},onComplete:()=>{ScrollTrigger.refresh(),e&&(e.style.display="none",t.forEach((e=>{e.style.backgroundColor="var(--swatch--light)"})))}});a&&p.to(t,{opacity:0,duration:.001,ease:"none",stagger:{amount:.7,from:"random"}},.1),o&&p.to(o,{opacity:1},l),d?.words?.length&&p.to(d.words,{yPercent:0,stagger:.08},i),r&&p.to(r,{opacity:1,duration:1},c),g?.lines?.length&&p.to(g.lines,{yPercent:0,stagger:.1},c),s.length&&p.to(s,{opacity:1,stagger:.1,duration:1.5},u)}function pageTransition(){const e=document.querySelectorAll('a[href]:not([href^="#"]):not([href^="http"]):not([href^="mailto:"]):not([href^="tel:"]):not([target="_blank"])');let t=!1;e.forEach((e=>{e.addEventListener("click",(function(e){if(t)return;const o=document.querySelector(".transition_wrap");if(!o)return;const n=this.href,r=new URL(n,window.location.origin);if(Array.from(r.searchParams.keys()).some((e=>e.includes("_page")||"page"===e)))return;const s=o.querySelectorAll(".transition_block");e.preventDefault(),t=!0,o.style.display="grid",gsap.to(s,{opacity:1,duration:.001,ease:"none",stagger:{amount:.7,from:"random"},onComplete:()=>{window.location=n}})}))}))}function scrollIndicator(){const e=document.querySelector(".hero_home_scroll");e&&gsap.to(e,{y:8,repeat:-1,yoyo:!0,duration:.8,ease:"power1.inOut"})}function createSplitText(e,t="lines",o={}){const n=e.querySelector("h1, h2, h3, h4, h5, h6, p")||e,r=new SplitText(n,{type:t,mask:"lines",linesClass:"line",autoSplit:!0,deepSplit:!0,reduceWhiteSpace:!1,preserveWhitespace:!1,...o});return{split:r,lines:r.lines,words:r.words,chars:r.chars}}function wordsScroll(){const e=document.querySelectorAll('[data-scroll="words"]');e.length&&e.forEach((e=>{const{words:t}=createSplitText(e,"lines, words");t?.length&&(gsap.set(t,{yPercent:110}),gsap.set(e,{visibility:"visible"}),gsap.timeline({scrollTrigger:{trigger:e,start:"top bottom",toggleActions:"play none none reset"},defaults:{duration:1.2,ease:easeBase}}).to(t,{yPercent:0,stagger:.08}))}))}function linesScroll(){const e=document.querySelectorAll('[data-scroll="lines"]');e.length&&e.forEach((e=>{const{lines:t}=createSplitText(e,"lines");t?.length&&(gsap.set(t,{yPercent:110}),gsap.set(e,{visibility:"visible"}),gsap.timeline({scrollTrigger:{trigger:e,start:"top 85%",toggleActions:"play none none none"},defaults:{duration:1.2,ease:easeBase}}).to(t,{yPercent:0,stagger:.08,delay:.1}))}))}function charsScroll(){const e=document.querySelectorAll('[data-scroll="chars"]');e.length&&e.forEach((e=>{const{chars:t}=createSplitText(e,"lines, chars");t?.length&&(gsap.set(t,{yPercent:110}),gsap.set(e,{visibility:"visible"}),gsap.timeline({scrollTrigger:{trigger:e,start:"top bottom",toggleActions:"play none none reset"},defaults:{duration:1.2,ease:easeBase}}).to(t,{yPercent:0,stagger:.05}))}))}function descriptionScroll(){const e=document.querySelectorAll('[data-scroll="description"]');e.length&&e.forEach((e=>{const{lines:t}=createSplitText(e,"lines");t?.length&&(gsap.set(t,{yPercent:110}),gsap.set(e,{visibility:"visible"}),gsap.timeline({scrollTrigger:{trigger:e,start:"top bottom",toggleActions:"play none none reset"},defaults:{duration:1.2,ease:easeBase}}).to(t,{yPercent:0,stagger:.15}))}))}function fadeScroll(){const e=document.querySelectorAll('[data-scroll="fade"]');e.length&&e.forEach((e=>{gsap.timeline({defaults:{duration:1.2,ease:"power4.inOut"},scrollTrigger:{trigger:e,start:"top bottom",toggleActions:"play none none reset"},paused:!0}).to(e,{opacity:1},.1)}))}function getConciergeWidget(){const e=document.body.lastElementChild;return e&&e.querySelector("form")&&e.querySelector("dialog")?e:null}function conciergeAnimation(){const e=getConciergeWidget();if(!e)return;const t=e.children[1],o=t.querySelector("button"),n=t.querySelector("form"),r=t.querySelector("dialog"),s=document.querySelector(".footer_wrap");gsap.set(e,{pointerEvents:"auto"}),gsap.set(t,{pointerEvents:"auto"}),gsap.set(o,{display:"inline-block",pointerEvents:"auto"}),gsap.set(n,{opacity:1,pointerEvents:"auto"}),gsap.set(r,{pointerEvents:"auto"});gsap.timeline({scrollTrigger:{trigger:s,start:"top bottom",toggleActions:"play none none reverse"}}).to(n,{opacity:0,duration:.4,ease:"power2.out"}).to(o,{opacity:0,duration:.4,ease:"power2.out"}).set(e,{pointerEvents:"none"}).set(t,{pointerEvents:"none"}).set(o,{display:"none",pointerEvents:"none"}).set(n,{pointerEvents:"none"}).set(r,{pointerEvents:"auto"})}function conciergeScroll(){const e=new MutationObserver((()=>{const t=getConciergeWidget();t&&(t.addEventListener("mouseenter",(()=>{window.lenis&&window.lenis.stop()})),t.addEventListener("mouseleave",(()=>{window.lenis&&window.lenis.start()})),e.disconnect())}));e.observe(document.body,{childList:!0,subtree:!0})}function mobileMenu(){const e=document.querySelector('[data-menu="nav"]'),t=e.querySelector(".nav_menu"),o=t.querySelectorAll(".nav_link"),n=e.querySelector('[data-menu="button"]'),r=n.querySelector(".nav_button-text"),s=e.querySelector(".nav_overlay");gsap.set(t,{x:"2rem"}),gsap.set(o,{x:"2rem",opacity:0});let a=gsap.timeline({paused:!0,defaults:{duration:1,ease:"power4.out"},onStart:()=>{r.textContent="Close",gsap.set(t,{display:"flex"}),gsap.set(s,{display:"block"}),e.classList.add("is-open"),disableScrolling(),n.style.pointerEvents="none"},onComplete:()=>{n.style.pointerEvents="auto"}}),l=gsap.timeline({paused:!0,defaults:{duration:.5,ease:"power4.out"},onStart:()=>{r.textContent="Menu",n.style.pointerEvents="none"},onComplete:()=>{gsap.set(t,{display:"none"}),gsap.set(s,{display:"none"}),e.classList.remove("is-open"),enableScrolling(),n.style.pointerEvents="auto"}});a.to(s,{opacity:1},0).to(r,{color:"var(--swatch--brand)",duration:.2},0).to(t,{x:"0rem",opacity:1},0).to(o,{x:"0rem",opacity:1,stagger:.08},.15),l.to(o,{x:"0rem",opacity:0},0).to(r,{color:"var(--_theme---text)",duration:.2},0).to(t,{x:"1rem",opacity:0},.15).to(s,{opacity:0},.15);let i=!1;n.addEventListener("click",(()=>{i?(l.restart(),i=!1):(a.restart(),i=!0)})),s.addEventListener("click",(()=>{i&&(l.restart(),i=!1)})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&i&&(l.restart(),i=!1)}))}function charHover(){const e=document.querySelectorAll('[data-hover="split-chars"]');e.length&&e.forEach((e=>{const t=e.querySelectorAll('[data-split="text"]');if(!t.length)return;const o=[];t.forEach(((e,t)=>{const n=new SplitText(e,{type:"chars",tag:"span",charsClass:"char"});o.push(n)})),e.addEventListener("mouseenter",(()=>{e._tl||(e._tl=gsap.timeline({defaults:{duration:.5,ease:easeBase},paused:!0}).to(o[0].chars,{yPercent:-100,stagger:.017,overwrite:"auto"}).to(o[1].chars,{yPercent:-100,stagger:.017,overwrite:"auto"},"<")),e._tl.play()})),e.addEventListener("mouseleave",(()=>{e._tl?.reverse()}))}))}function buttonHover(){const e=document.querySelectorAll(".btn_main_wrap");e.length&&e.forEach((e=>{const t=e.querySelectorAll(".btn_main_text"),o=e.querySelector(".btn_main_bg"),n=e.querySelector(".btn_main_border");if(!t.length)return;gsap.set(o,{top:"100%"});const r=[];t.forEach(((e,t)=>{const o=new SplitText(e,{type:"chars",tag:"span",charsClass:"char"});r.push(o)})),e.addEventListener("mouseenter",(()=>{e._tl||(e._tl=gsap.timeline({defaults:{duration:.7,ease:easeBase},paused:!0}).to(o,{top:"0%",overwrite:"auto",duration:.6}).to(n,{width:"100%",overwrite:"auto",duration:.6},"<").to(r[0].chars,{yPercent:-100,stagger:.012,overwrite:"auto"},"<").to(r[1].chars,{yPercent:-100,stagger:.012,overwrite:"auto"},"<").to(e,{color:"var(--_button-style---text-hover)",duration:.3},"<0.2")),e._tl.play()})),e.addEventListener("mouseleave",(()=>{e._tl?.reverse()}))}))}function scrambleHover(){const e=document.querySelectorAll('[data-hover="card"]');if(!e.length)return;const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";e.forEach((e=>{const o=e.querySelector(".card_image_text"),n=e.querySelector(".card_image_text-hover");if(!o||!n)return;const r=o.textContent,s=n.textContent;let a=!1,l=null;e.addEventListener("mouseenter",(()=>{o.textContent=s,function(e,n=300){l&&clearInterval(l),a=!0;const r=e.length,s=Math.floor(n/50);let i=0;l=setInterval((()=>{let n="";for(let o=0;o<r;o++)n+=i>s*(o/r)?e[o]||"":t[Math.floor(52*Math.random())];o.textContent=n,i++,i>=s+r&&(clearInterval(l),o.textContent=e,a=!1,l=null)}),50)}(s,300)})),e.addEventListener("mouseleave",(()=>{!function(e,n,r=300){l&&clearInterval(l),a=!0;const s=e.length,i=Math.floor(r/50);let c=0;l=setInterval((()=>{let e="";for(let o=0;o<s;o++)e+=t[Math.floor(52*Math.random())];o.textContent=e,c++,c>=i&&(clearInterval(l),o.textContent=n,a=!1,l=null)}),50)}(o.textContent,r,300)}))}))}window.addEventListener("load",(()=>{lenisScroll(),copyright(),conciergeAnimation(),conciergeScroll(),loader(),pageTransition(),scrollIndicator(),wordsScroll(),linesScroll(),charsScroll(),descriptionScroll(),fadeScroll(),gsap.matchMedia().add("(min-width: 992px)",(()=>{charHover(),buttonHover(),scrambleHover()})),gsap.matchMedia().add("(max-width: 767px)",(()=>{mobileMenu()}))}));