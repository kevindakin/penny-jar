function filterDropdowns(){const e=document.querySelector(".companies-grid_filters"),t=document.querySelectorAll(".filter_wrap"),o=document.querySelectorAll(".filter_trigger"),r=document.querySelectorAll(".filter_options"),a=document.querySelectorAll(".filter_icon"),n=document.querySelector(".companies-grid_filter-clear");if(!e||0===t.length)return;let i=null;function c(e){const t=e.querySelector('input[type="radio"]:checked');t&&""!==t.value?e.classList.add("is-filtered"):e.classList.remove("is-filtered")}function s(){if(!n)return;const e=Array.from(t).some((e=>{const t=e.querySelector('input[type="radio"]:checked');return t&&""!==t.value}));n.style.display=e?"block":"none"}function l(e){const t=e.querySelector(".filter_options"),o=e.querySelector(".filter_icon");gsap.to(t,{opacity:0,duration:.2,ease:"power2.inOut",onComplete:()=>{gsap.set(t,{display:"none"})}}),gsap.to(o,{rotation:0,duration:.4,ease:"power4.inOut"}),i===e&&(i=null),e.classList.remove("is-open")}function u(){t.forEach((e=>{e.classList.contains("is-open")&&l(e)}))}t.forEach((e=>{c(e)})),s(),o.forEach(((e,o)=>{e.addEventListener("click",(e=>{e.stopPropagation();const n=t[o],c=r[o],s=a[o];n.classList.contains("is-open")?l(n):function(e,t,o){i&&i!==e&&l(i),gsap.set(t,{display:"block"}),gsap.to(t,{opacity:1,duration:.2,ease:"power2.inOut"}),gsap.to(o,{rotation:135,duration:.4,ease:"power4.inOut"}),i=e,e.classList.add("is-open")}(n,c,s)}))})),t.forEach((e=>{e.querySelectorAll('input[type="radio"]').forEach((t=>{t.addEventListener("change",(()=>{c(e),s()}))}))})),document.addEventListener("click",(e=>{let o=!1;t.forEach((t=>{t.contains(e.target)&&(o=!0)})),o||u()})),r.forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation()}))})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&u()}))}function filterTags(){const e=document.getElementById("custom-tags-container"),t=document.getElementById("tag-template");function o(o){const r=o.getAttribute("fs-list-field"),a=o.getAttribute("fs-list-value"),n=`[data-field="${r}"][data-value="${a}"]`,i=e.querySelector(n);o.checked?i||function(o,r){const a=t.cloneNode(!0);a.removeAttribute("id"),a.style.display="flex",a.setAttribute("data-field",o),a.setAttribute("data-value",r),a.classList.add("companies_filter-tag"),a.querySelector(".companies_filter-field").textContent=o,a.querySelector(".companies_filter-operator").textContent=":",a.querySelector(".tag_main_text.is-filter-tag").textContent=r,a.querySelector(".tag_main_remove").addEventListener("click",(()=>{const e=document.querySelector(`input[fs-list-field="${o}"][fs-list-value="${r}"]`);e&&(e.checked=!1,e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),setTimeout((()=>{window.fsAttributes&&window.fsAttributes.list&&window.fsAttributes.list.refresh()}),10),a.remove())})),e.appendChild(a)}(r,a):(i&&i.remove(),setTimeout((()=>{window.fsAttributes&&window.fsAttributes.list&&window.fsAttributes.list.refresh()}),10))}document.addEventListener("change",(e=>{e.target.matches('input[type="checkbox"][fs-list-value]')&&o(e.target)})),document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll('input[type="checkbox"][fs-list-value]:checked').forEach(o)}))}function companyHover(){const e=gsap.utils.toArray(".card_company_wrap");if(!e.length)return;e.forEach((t=>{const o=t.querySelector(".card_company_bg"),r=t.querySelector(".card_company_text-wrap"),a=t.querySelector(".card_company_logo"),n=t.querySelector(".card_company_hover");t.addEventListener("mouseenter",(()=>{var i;i=t,gsap.to(e,{opacity:.3,duration:durationFast,ease:"power2.inOut",overwrite:"auto"}),gsap.to(i,{opacity:1,duration:durationFast,ease:"power2.inOut",overwrite:"auto"}),t._tl||(t._tl=gsap.timeline({defaults:{duration:.5,ease:"power4.inOut"},paused:!0}).to(o,{opacity:1,overwrite:"auto"}).to(r,{y:"0rem",opacity:1,overwrite:"auto"},"<"),a&&t._tl.to(a,{opacity:0,overwrite:"auto"},"<"),n&&t._tl.to(n,{opacity:1,overwrite:"auto"},"<")),t._tl.play()})),t.addEventListener("mouseleave",(o=>{const r=o.relatedTarget&&o.relatedTarget.closest?o.relatedTarget.closest(".card_company_wrap"):null;r&&e.includes(r)||gsap.to(e,{opacity:1,duration:durationFast,ease:"power2.inOut",overwrite:"auto"}),t._tl?.reverse()}))}))}function stealthLogos(){function e(e){const t=e.querySelectorAll(".card_company_pixel"),o=[1,15,16,30,31,45],r=[0,.1,.2],a=[0,.1,.2,.3,.5,.7,.8];t.forEach(((e,t)=>{const n=t+1;o.includes(n)?e.style.opacity=r[Math.floor(Math.random()*r.length)]:e.style.opacity=a[Math.floor(Math.random()*a.length)]}))}document.querySelectorAll(".card_company_wrap").forEach((t=>{const o=t.querySelector(".card_company_stealth");o&&(e(o),t.addEventListener("mouseenter",(()=>{!function(t){let o=0;const r=setInterval((()=>{e(t),o++,o>=4&&(clearInterval(r),e(t))}),80)}(o)})))}))}filterDropdowns(),filterTags(),stealthLogos(),gsap.matchMedia().add("(min-width: 992px)",(()=>{companyHover()}));